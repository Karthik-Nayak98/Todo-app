(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{27:function(e,t,a){},30:function(e,t,a){},35:function(e,t,a){e.exports=a(53)},40:function(e,t,a){},46:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(32),c=a.n(r),l=(a(27),a(9)),o=a(10),i=a(12),u=a(11),m=(a(40),function(e){return e.tasks.map((function(t){return s.a.createElement("div",{className:"list-background",key:t.id},s.a.createElement("p",{className:"list__items"},s.a.createElement("strong",null,t.value)),s.a.createElement("i",{className:"fa fa-times list__delete-icon",onClick:function(){return e.deleteItem(t.id)}}))}))}),d=a(18);a(41),a(43);d.initializeApp({apiKey:"AIzaSyB8nD0nu2jG0cmyvLRBs3XgFwOg0b0cq8I",authDomain:"todo-app-8c85e.firebaseapp.com",databaseURL:"https://todo-app-8c85e.firebaseio.com",projectId:"todo-app-8c85e",storageBucket:"todo-app-8c85e.appspot.com",messagingSenderId:"125772070027",appId:"1:125772070027:web:1ffe3fd0560663a286288e",measurementId:"G-KVNZJWDRBQ"}).auth().setPersistence(d.auth.Auth.Persistence.LOCAL);var h=d.auth(),p=d.database(),b=(a(46),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){e.persist(),n.setState({currentTask:e.target.value})},n.addItem=function(e){e.preventDefault(),n.database.push().set({task:n.state.currentTask}),n.setState((function(){return{currentTask:""}})),n.db.set({count:n.state.count+1})},n.deleteTask=function(e){n.database.child(e).remove(),n.db.set({count:n.state.count-1}),n.setState({count:n.state.count-1})},n.EditItem=function(e){var t=n.state.tasks.filter((function(t){return t.id===e}));n.setState({currentTask:t[0].value})},n.logout=function(){h.signOut()},n.state={tasks:[],count:0,currentTask:"",username:""};var s=h.currentUser.uid;return n.database=p.ref("users/".concat(s)).child("task"),n.db=p.ref("users/".concat(s)).child("taskCount"),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.tasks,a=h.currentUser.uid;p.ref("users/"+a).once("value").then((function(t){var a=t.val()&&t.val().username||"Anonymous";e.setState({username:a})})),this.db.on("value",(function(t){var a=t.exists()?t.val().count:0;e.setState({count:a})})),this.database.on("child_added",(function(a){t.push({id:a.key,value:a.val().task}),e.setState({tasks:t})})),this.database.on("child_removed",(function(a){var n=t.filter((function(e){return e.id!==a.key}));e.setState({tasks:n}),t=n}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"column"},s.a.createElement("nav",null,s.a.createElement("p",{className:"display-name"},"Logged in as: ",s.a.createElement("span",null,this.state.username)),s.a.createElement("button",{onClick:this.logout,className:"logout"},s.a.createElement("i",{className:"fa fa-sign-out"})," Logout")),s.a.createElement("div",{className:"card"},s.a.createElement("h1",{className:"card-header"},"Todo List App"),s.a.createElement("form",{className:"todo-form",onSubmit:this.addItem},s.a.createElement("div",{className:"task-input"},s.a.createElement("input",{className:"input-title",type:"text",value:this.state.currentTask,onChange:this.handleChange,required:!0}),s.a.createElement("label",null,"Enter task")),s.a.createElement("button",{className:"todo__button",type:"submit"},"Add Task")))),s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"card"},0===this.state.tasks.length?s.a.createElement("h1",{className:"card-header"},"Nothing Left to do!! Enjoy your day"):s.a.createElement("h1",{className:"card-header"},this.state.count," Task to finish"),s.a.createElement(m,{tasks:this.state.tasks,taskCompleted:this.taskCompleted,deleteItem:this.deleteTask,EditItem:this.EditItem}))))}}]),a}(n.Component)),v=a(13),E=a(16),g=a.n(E),f=a(6),k=a(20),w=a(8),N=a(15),j=a.n(N),O=(a(30),{email:"",password:"",error:!1,touched:{email:!1,password:!1},loading:!1}),y=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({loading:!0}),e.prev=2,e.next=5,h.signInWithEmailAndPassword(n.state.email,n.state.password);case 5:n.props.history.push("/todo"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),n.setState(Object(f.a)(Object(f.a)({},O),{},{loading:!1,error:!0}));case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){n.setState(Object(v.a)({},e.target.name,e.target.value))},n.handleBlur=function(e){return function(t){n.setState({touched:Object(f.a)(Object(f.a)({},n.state.touched),{},Object(v.a)({},e,!0))})}},n.validate=function(e,t){var a={email:"",password:""};n.state.touched.email&&!/^[\w-.]+@([\w-]+.)+[\w-]{2,4}$/.test(e)&&(a.email="Email is invalid");return n.state.touched.password&&!/^(?=.*[a-z])(?=.*[!-_.+@#$%^&*]).{5,}$/.test(t)&&(a.password="Password should have special character & length should be >= 5"),a},n.state=Object(f.a)({},O),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.validate(this.state.email,this.state.password);return s.a.createElement("div",{className:"box"},s.a.createElement("header",{className:"box__header"},s.a.createElement("h1",null,"Login"),s.a.createElement("span",{className:"validation-error"},this.state.error?"Invalid username or password":"")),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"inputbox"},s.a.createElement("input",{type:"text",className:"mail",name:"email",value:this.state.email,onChange:this.handleChange,onBlur:this.handleBlur("email"),required:!0}),s.a.createElement("label",null,"Email"),s.a.createElement("span",{className:"errors"},e.email)),s.a.createElement("div",{className:"inputbox"},s.a.createElement("input",{type:"password",className:"pass",name:"password",value:this.state.password,onChange:this.handleChange,onBlur:this.handleBlur("password"),required:!0}),s.a.createElement("label",null,"Password"),s.a.createElement("span",{className:"errors"},e.password)),s.a.createElement("button",{className:this.state.loading?"submit-button loading":"submit-button",type:"submit",value:"Login"},"Login",s.a.createElement("span",{className:"login-loader"},s.a.createElement(j.a,{radius:30,color:"#fc6c85",stroke:4,visible:this.state.loading})))),s.a.createElement("span",{className:"page-change"},"Don't have an Account?\xa0\xa0",s.a.createElement(w.b,{to:"/signup"},"SignUp")))}}]),a}(n.Component),S={username:"",email:"",password:"",error:!1,touched:{username:!1,email:!1,password:!1},loading:!1},C=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({loading:!0}),e.prev=2,e.next=5,h.createUserWithEmailAndPassword(n.state.email,n.state.password);case 5:a=e.sent,n.database=p.ref("users/".concat(a.user.uid)).set({username:n.state.username}),n.props.history.push("/todo"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n.setState(Object(f.a)(Object(f.a)({},S),{},{loading:!1,error:!0}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){e.persist(),n.setState(Object(v.a)({},e.target.name,e.target.value))},n.handleBlur=function(e){return function(t){n.setState({touched:Object(f.a)(Object(f.a)({},n.state.touched),{},Object(v.a)({},e,!0))})}},n.validate=function(e,t,a){var s={username:"",email:"",password:""};n.state.touched.username&&e.length<3?s.username="Username should be >= 3 characters":n.state.touched.username&&e.length>15&&(s.username="Username should be <=15 characters");n.state.touched.email&&!/^[\w-.]+@([\w-]+.)+[\w-]{2,4}$/.test(t)&&(s.email="Entered email is invalid");return n.state.touched.password&&!/^(?=.*[a-z])(?=.*[!-_.+@#$%^&*]).{5,}$/.test(a)&&(s.password="Password should have special character & length should be >= 5"),s},n.state=Object(f.a)({},S),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.validate(this.state.username,this.state.email,this.state.password);return s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"box__header"},s.a.createElement("h1",null,"SignUp"),s.a.createElement("span",{className:"validation-error"},this.state.error?"User already exists":"")),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"inputbox"},s.a.createElement("input",{type:"text",className:"username",name:"username",onBlur:this.handleBlur("username"),value:this.state.username,onChange:this.handleChange,required:!0}),s.a.createElement("label",null,"User Name"),s.a.createElement("span",{className:"errors"},e.username)),s.a.createElement("div",{className:"inputbox"},s.a.createElement("input",{type:"text",className:"mail",name:"email",onBlur:this.handleBlur("email"),value:this.state.email,onChange:this.handleChange,required:!0}),s.a.createElement("label",null,"Email"),s.a.createElement("span",{className:"errors"},e.email)),s.a.createElement("div",{className:"inputbox"},s.a.createElement("input",{type:"password",className:"pass",name:"password",onBlur:this.handleBlur("password"),value:this.state.password,onChange:this.handleChange,required:!0}),s.a.createElement("label",null,"Password"),s.a.createElement("span",{className:"errors"},e.password)),s.a.createElement("button",{className:this.state.loading?"submit-button loading":"submit-button",type:"submit",value:"SignUp"},"SignUp",s.a.createElement("span",{className:"login-loader signup-loader"},s.a.createElement(j.a,{radius:30,color:"#fc6c85",stroke:4,visible:this.state.loading})))),s.a.createElement("span",{className:"page-change"},"Already have an Account?\xa0\xa0",s.a.createElement(w.b,{to:"/login"},"Login")))}}]),a}(n.Component),x=a(2),B=a(34),I=function(e){var t=e.component,a=e.authenticated,n=Object(B.a)(e,["component","authenticated"]);return s.a.createElement(x.b,Object.assign({},n,{render:function(e){return!0===a?s.a.createElement(t,e):s.a.createElement(x.a,{to:"/login"})}}))},_=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={authenticated:!1,currentuser:null,loading:!0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.onAuthStateChanged((function(t){t?e.setState({authenticated:!0,currentuser:t.providerData[0],loading:!1}):e.setState({authenticated:!1,currentuser:null,loading:!1})}))}},{key:"render",value:function(){return this.state.loading?s.a.createElement("div",{className:"loader"},s.a.createElement(j.a,{radius:70,color:"#fc6c85",stroke:5,visible:!0})):s.a.createElement(x.d,null,s.a.createElement(I,{path:"/todo",authenticated:this.state.authenticated,component:b}),s.a.createElement(x.b,{exact:!0,path:"/login",component:y}),s.a.createElement(x.b,{exact:!0,path:"/signup",component:C}),s.a.createElement(x.a,{to:"/login"}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(w.a,{basename:"/"},s.a.createElement(_,{increment:1}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.cb758d37.chunk.js.map